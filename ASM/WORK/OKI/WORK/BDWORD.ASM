CODE	SEGMENT	PUBLIC
	ASSUME	CS:CODE,DS:CODE,SS:CODE,ES:CODE

PUSH	CS
POP	DS


MOV	AX,WORD PTR E[0]
MOV	BX,WORD PTR E[2]

XOR	CX,CX
XOR	DX,DX
AND	BH,01111111B
MOV	DL,BH
MOV	CL,24
SUB	CL,BH
XOR	BH,BH

OR	CL,CL
JZ	NLOOP
		
LOOP1:
	SHR	BX,1
	RCR	AX,1
	LOOP	LOOP1
NLOOP:
	CMP	DL,16
	JA	NEXT
	MOV	CL,DL
	MOV	DX,1
	DEC	CL
	JZ	SET1
LOOP2:
	SHL	DX,1
	LOOP	LOOP2
SET1:
	OR 	AX,DX
	JMP	EXIT

NEXT:
	SUB	DL,16
	MOV	CL,DL
	MOV	DX,1
	DEC	CL
	JZ	SET
LOOP3:
	SHL	DX,1
	LOOP	LOOP3
SET:
	OR	BX,DX

EXIT:
	MOV	WORD PTR M[0],AX
	MOV	WORD PTR M[2],BX

	MOV	AH,4CH
	INT 	21H
	
E		DD	65536E+0
M		DD	0
N		DD	65536

CODE		ENDS
		END
